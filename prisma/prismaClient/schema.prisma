generator client {
  provider = "prisma-client-js"
  output   = "prismaClient"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type AkPity {
  standard Int
  special  Json[]
}

type AkSettings {
  saveHistory          Boolean @default(true)
  sendHistoryToDB      Boolean @default(false)
  characterDatabase    Boolean @default(false)
  clickToSelectOutcome Boolean @default(false)
  allowCombinations    Boolean @default(true)
}

model akdata {
  id       String     @id @default(auto()) @map("_id") @db.ObjectId
  history  Json
  pity     AkPity
  settings AkSettings
  user     users?     @relation(fields: [userId], references: [id])
  // relations
  userId   String?    @unique @db.ObjectId
}

model users {
  id       String  @id @default(auto()) @map("_id") @db.ObjectId
  username String  @unique
  pass     String  @default("_PQRST.") @map("_q")
  akdata   akdata?
}
